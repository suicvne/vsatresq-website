<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <base href="https://vsatresq.com/"><!--TODO: change this or make it a variable?-->
  <link rel="stylesheet" href="/css/new_main.css">

  <!--Two essential scripts and one non-essential but still fun.-->
  <script src="node_modules/jquery/dist/jquery.js"></script>
  <script src="/scripts/selfserve.js"></script>
  <script src="/scripts/random_banner.js"></script>
  <script src="/scripts/logintext_handler.js"></script> <!--TODO: can i make this better at all? 4 scripts???-->
</head>

<body>
  <div class="wrapper">
    <div class="header_container">
      <div class="selfserve_login_text"><a href="./blog/ucp/">Hide this when not logged in</a></div>
      <div class="header_logo_container"><a href="./"><img class="header_logo" src="images/logo.svg"></a></div>
      <div class="header_logo_text_container"><h1 class="header_logo_text">PSYCH CAT</h1></div>
    </div>

    <navbar class="custom_nav">
      <a href="./bio">Bio</a>
      <a href="./blog">Updates</a>
      <a href="./shop">Shop</a>
      <div class="dropdown">
          <a class="droptoggle" href="#">Gallery</a>
          <div class="dropdown-content">
            <a href="./gallery/past">Past Events</a>
            <a href="./gallery/artists">Artists</a>
            <a href="./gallery/musicians">Musicians</a>
          </div>
      </div>
      <!--<a href="./music">Music</a>-->
      <!--<a href="./shop">Shop</a>-->
      <div class="dropdown">
          <a class="droptoggle" href="#">Contact</a>
          <div class="dropdown-content">
            <a href="https://instagram.com/psych.cat/">Instagram</a>
            <a href="https://www.facebook.com/psychcat/">Facebook</a>
            <a href="mailto:psychcat666@gmail.com">Email</a>
          </div>
      </div>

      <div id="current_user_message" class="right-align">
        <a href="./auth/ucp"><img src='/images/user.png' style='max-width: 60%; height: auto;'></a>
      </div>
    </navbar>

    <div class="main_content_area">
      <script>
  document.title = "Psych Cat"

  selfserve.global.onLoad.push(() => selfserve.random_banner.setBannerWithGradient("./images/random/main_banner.png", {r: 255, g: 255, b: 255}));
  $(".main_content_area").css("background-image", "url(./images/main_filler.jpg)")
    .css("background-size", "cover")
    .css("resize", "both")
    .css("background-repeat", "no-repeat")
    .css("background-position", "center");
    


psuedo_random = (max) => {
  return Math.floor(Math.random() * Math.floor(max));
};

object_information = {
  offset_x: 0,
  offset_y: 0
};

next_target = {
  x: 0,
  y: 0
};

timer = 0;

clamp = (number, min, max) => {
  if(number > max) return max;
  if(number < min) return min;
  return number;
};

psychcat_get_next_target = () => {
  next_target.x = psuedo_random(10);
  next_target.y = psuedo_random(20);
};

lerp = (a, b, t) => {
  return a*(1-t)+b*t;
}

psychcat_animation_timescale = 0.03;

psychcat_animation_update = () => {
  timer += psychcat_animation_timescale;

  if(timer >= 1.0) timer = 0;

  if(object_information.offset_x === next_target.x && object_information.offset_y === next_target.y) // We reached our target
  { 
    timer = 0;
    psychcat_get_next_target();
  }

  object_information.offset_x = lerp(object_information.offset_x, next_target.x, timer);
  object_information.offset_y = lerp(object_information.offset_y, next_target.y, timer);

  $(".main_content_area").css("background-position", `${object_information.offset_x}% ${object_information.offset_y}%`);
};

//setInterval(psychcat_animation_update, 16);

</script>

<div class="landing_image">
</div>

<!--
<img style="align-content: center; text-align: center !important; max-width: 35em; height: auto; display: block; margin: 0 auto;" src="./images/main_filler.jpg"></img>
-->
    </div>
  </div>
</body>

</html>
